{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"phu - Phage Utilities","text":"A modular toolkit for viral genomics workflows"},{"location":"#what-is-phu","title":"What is phu?","text":"<p>phu (phage utilities) is a command-line toolkit designed to streamline viral genomics workflows. It provides intuitive commands that wrap complex bioinformatics utilities behind a consistent interface, making phage and viral sequence analysis more accessible and reproducible.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Modular Design: Clean, focused commands for specific tasks.</li> <li>Easy Installation: Available through Bioconda, PyPI.</li> <li>Reproducible: Consistent interface across different utilities.</li> <li>Well Documented: Comprehensive documentation and examples.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<p>Install <code>phu</code> using mamba or conda from the bioconda channel:</p> <pre><code>mamba create -n phu bioconda::phu\nmamba activate phu\n</code></pre>"},{"location":"#basic-usage","title":"Basic Usage","text":"<pre><code>phu -h\n\n Usage: phu [OPTIONS] COMMAND [ARGS]...                                      \n\n Phage utilities CLI                                                         \n\n\u256d\u2500 Options \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 --help  -h        Show this message and exit.                             \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\u256d\u2500 Commands \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 cluster   Sequence clustering wrapper around external 'vclust' with three \u2502\n\u2502           modes.                                                          \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre>"},{"location":"#available-commands","title":"Available Commands","text":""},{"location":"#cluster-sequence-clustering","title":"<code>cluster</code> - Sequence Clustering","text":"<p>Cluster viral sequences into operational taxonomic units with three specialized modes:</p> <ul> <li><code>dereplication</code> - Remove duplicate sequences</li> <li><code>votu</code> - Group sequences into viral Operational Taxonomic Units</li> <li><code>species</code> - Create species-level clusters</li> </ul> <p>Example: <pre><code>phu cluster --mode votu --input-contigs viral_genomes.fasta --output-folder results/\n</code></pre></p> <p>Learn more about clustering \u2192</p>"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li>Viral Metagenomics: Dereplicate and cluster viral contigs from metagenomic assemblies</li> <li>Phage Genomics: Organize phage genomes into taxonomic groups</li> <li>Comparative Analysis: Prepare datasets for phylogenetic and comparative genomic studies</li> <li>Database Construction: Build reference databases of viral sequences</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome contributions! Whether it's bug reports, feature requests, or code contributions, please check out our GitHub repository.</p>"},{"location":"#citation","title":"Citation","text":"<p>If you use phu in your research, please cite:</p> <pre><code>Garc\u00eda-Botero, C. (2025). phu: Phage Utilities - A modular toolkit for viral genomics workflows. \nGitHub repository: https://github.com/camilogarciabotero/phu\n</code></pre>"},{"location":"#references","title":"References","text":"<p>This program uses several key tools and libraries, make sure to acknowledge them when using <code>phu</code>:</p> <ul> <li> <p>vclust: A high-performance clustering tool for viral sequences:</p> <p>Zielezinski A, Gudy\u015b A, Barylski J, Siminski K, Rozwalak P, Dutilh BE, Deorowicz S. Ultrafast and accurate sequence alignment and clustering of viral genomes. Nat Methods. https://doi.org/10.1038/s41592-025-02701-7</p> </li> <li> <p>seqkit: A toolkit for FASTA/Q file manipulation.</p> <p>Wei Shen*, Botond Sipos, and Liuyang Zhao. 2024. SeqKit2: A Swiss Army Knife for Sequence and Alignment Processing. iMeta e191. doi:10.1002/imt2.191.</p> </li> </ul>"},{"location":"commands/cluster/","title":"cluster","text":"<p>Sequence clustering wrapper around external 'vclust' with three preconfigured modes for common viral genomics workflows.</p>"},{"location":"commands/cluster/#overview","title":"Overview","text":"<p>The <code>cluster</code> command provides a simplified interface to the powerful <code>vclust</code> tool, implementing the most common use cases from the vclust wiki with sensible defaults while allowing advanced customization.</p>"},{"location":"commands/cluster/#basic-usage","title":"Basic Usage","text":"<pre><code>phu cluster --mode &lt;MODE&gt; --input-contigs &lt;FASTA_FILE&gt; [options]\n</code></pre>"},{"location":"commands/cluster/#modes","title":"Modes","text":"Mode Description Algorithm Metric Use Case <code>dereplication</code> Remove redundant sequences, keep representatives cd-hit ani Reduce dataset to representative genomes (Section 6.3) <code>votu</code> Cluster into viral Operational Taxonomic Units leiden ani Group contigs following MIUViG standards (Section 6.2) <code>species</code> Classify viruses into species complete tani Species classification following ICTV standards (Section 6.1)"},{"location":"commands/cluster/#default-parameters-by-mode","title":"Default Parameters by Mode","text":"Parameter dereplication votu species Algorithm cd-hit leiden complete Metric ani ani tani ANI cutoff 95% 95% 95% Query coverage 85% 85% None Pre-filter min-ident 95% 95% 70% Output file clusters.tsv clusters.tsv species.tsv Representatives file dereplicated_representatives.fna representatives.fna representatives.fna"},{"location":"commands/cluster/#command-options","title":"Command Options","text":"Option Type Default Description <code>--mode</code> Choice Required dereplication | votu | species <code>--input-contigs</code> Path Required Input FASTA file with viral sequences <code>--output-folder</code> Path clustered-contigs Output directory for results <code>--threads</code> Integer 0 Number of threads (0 = all cores) <code>--vclust-params</code> String None Custom vclust parameters (see Advanced Usage)"},{"location":"commands/cluster/#examples","title":"Examples","text":""},{"location":"commands/cluster/#basic-examples","title":"Basic Examples","text":"<pre><code># Dereplicate viral contigs\nphu cluster --mode dereplication --input-contigs viral_contigs.fna\n\n# Cluster into vOTUs following MIUViG standards\nphu cluster --mode votu --input-contigs viral_contigs.fna\n\n# Classify viruses into species following ICTV standards\nphu cluster --mode species --input-contigs complete_genomes.fna\n</code></pre>"},{"location":"commands/cluster/#advanced-usage-with-custom-parameters","title":"Advanced Usage with Custom Parameters","text":"<p>The <code>--vclust-params</code> option allows you to customize any vclust parameter while maintaining the convenience of predefined modes. Parameters are automatically routed to the appropriate vclust command (prefilter, align, cluster).</p>"},{"location":"commands/cluster/#large-dataset-optimization-wiki-section-66","title":"Large Dataset Optimization (Wiki Section 6.6)","text":"<pre><code># Process large diverse dataset (IMG/VR style)\nphu cluster --mode votu --input-contigs large_dataset.fna \\\n  --vclust-params=\"--min-kmers 4 --batch-size 2000000 --kmers-fraction 0.2 --outfmt lite\"\n</code></pre>"},{"location":"commands/cluster/#highly-redundant-dataset-wiki-section-67","title":"Highly Redundant Dataset (Wiki Section 6.7)","text":"<pre><code># Process highly redundant sequences\nphu cluster --mode votu --input-contigs redundant_genomes.fna \\\n  --vclust-params=\"--min-kmers 10 --batch-size 100000 --max-seqs 1000 --outfmt lite --ani 0.97 --qcov 0.95\"\n</code></pre>"},{"location":"commands/cluster/#custom-thresholds","title":"Custom Thresholds","text":"<pre><code># More stringent clustering\nphu cluster --mode votu --input-contigs genomes.fna \\\n  --vclust-params=\"--ani 0.98 --qcov 0.90\"\n\n# Species clustering with custom genus threshold\nphu cluster --mode species --input-contigs genomes.fna \\\n  --vclust-params=\"--tani 0.97\"\n</code></pre>"},{"location":"commands/cluster/#comparison-with-direct-vclust-usage","title":"Comparison with Direct vclust Usage","text":"Task phu cluster Direct vclust Steps Single command 3 separate commands Configuration Preconfigured modes Manual parameter setup Customization <code>--vclust-params</code> option Full control Learning curve Minimal Requires vclust expertise Use case Common workflows Specialized analyses"}]}